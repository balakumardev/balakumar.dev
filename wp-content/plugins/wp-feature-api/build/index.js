(()=>{var e={168:()=>{(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.d(t,{default:()=>M});var r={};e.r(r),e.d(r,{receiveFeature:()=>w,receiveFeatures:()=>b,registerFeature:()=>h,registerFeatureCallback:()=>m,setFeatureInputInProgress:()=>E,unregisterFeature:()=>_});var n={};e.r(n),e.d(n,{getFeatureInputInProgress:()=>F,getRegisteredFeature:()=>k,getRegisteredFeatureCallback:()=>v,getRegisteredFeatures:()=>R});var o={};e.r(o),e.d(o,{getRegisteredFeature:()=>T,getRegisteredFeatures:()=>S});const i=window.wp.data,s="REGISTER_FEATURE",a="RECEIVE_FEATURE",c="UNREGISTER_FEATURE",l="RECEIVE_FEATURES",u="REGISTER_FEATURE_CALLBACK",p="SET_FEATURE_INPUT_IN_PROGRESS",d="root",g="features",y={},f=(0,i.combineReducers)({featuresById:function(e=y,t){switch(t.type){case s:case a:return{...e,[t.feature.id]:t.feature};case c:{const r={...e};return delete r[t.feature.id],r}case l:{const r={...e};return Array.isArray(t.features)&&t.features.forEach((e=>{r[e.id]=e})),r}case u:{const r=e[t.id];return r?{...e,[t.id]:{...r,callback:t.callback}}:e}default:return e}},featureInputInProgressId:function(e=null,t){return t.type===p?t.id:e}});function h(e){return{type:s,feature:e}}function w(e){return{type:a,feature:e}}function _(e){return{type:c,feature:{id:e}}}function b(e){return{type:l,features:e}}function m(e,t){return async({registry:r,dispatch:n})=>{await r.resolveSelect(j).getRegisteredFeature(e)&&n({type:u,id:e,callback:t})}}function E(e){return{type:p,id:e}}const R=(0,i.createSelector)((e=>Object.values(e.featuresById).filter((e=>"function"!=typeof e.is_eligible||e.is_eligible()))),(e=>[e.featuresById])),k=(e,t)=>{const r=e.featuresById[t]||null;return r&&"function"==typeof r.is_eligible?r.is_eligible()?r:null:r},v=(0,i.createRegistrySelector)((e=>(t,r)=>{const n=e(j).getRegisteredFeature(r);return n?.callback})),F=e=>e.featureInputInProgressId,I=window.wp.coreData;function S(){return async({dispatch:e,registry:t})=>{let r=1,n=[],o=!0;for(;o;){const e=await t.resolveSelect(I.store).getEntityRecords(d,g,{page:r,per_page:100});e&&0!==e.length?(n=[...n,...e],r++):o=!1}e(b(n))}}function T(e){return async({dispatch:t,registry:r})=>{r.select(j).getRegisteredFeature(e)||t(w(await r.resolveSelect(I.store).getEntityRecord(d,g,e)))}}const P=window.wp.i18n,j=(0,i.createReduxStore)("feature-api",{reducer:f,actions:r,selectors:n,resolvers:o});if(!0!==window.__WP_FEATURE_API_STORE_REGISTERED)try{(0,i.register)(j),window.__WP_FEATURE_API_STORE_REGISTERED=!0,(0,i.dispatch)(I.store)?.addEntities([{name:g,kind:d,baseURL:"/wp/v2/features",baseURLParams:{context:"edit"},plural:"features",label:(0,P.__)("Features"),transientEdits:{callback:!0}}])}catch(e){window.__WP_FEATURE_API_STORE_REGISTERED=!0,console.warn("Feature API store registration was attempted but failed. This is likely because the store is already registered.")}const A=window.wp.apiFetch;var U=e.n(A);function C(e){if(null!=e){if(Array.isArray(e))return e.map((e=>C(e)));if("object"==typeof e){const t={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=C(e[r]);void 0!==n&&(t[r]=n)}return t}return e}}const q=window.wp.plugins,x=window.wp.commands,L=window.wp.element,O=window.wp.primitives,B=window.ReactJSXRuntime,G=(0,B.jsx)(O.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,B.jsx)(O.Path,{d:"M4 20h8v-1.5H4V20zM18.9 3.5c-.6-.6-1.5-.6-2.1 0l-7.2 7.2c-.4-.1-.7 0-1.1.1-.5.2-1.5.7-1.9 2.2-.4 1.7-.8 2.2-1.1 2.7-.1.1-.2.3-.3.4l-.6 1.1H6c2 0 3.4-.4 4.7-1.4.8-.6 1.2-1.4 1.3-2.3 0-.3 0-.5-.1-.7L19 5.7c.5-.6.5-1.6-.1-2.2zM9.7 14.7c-.7.5-1.5.8-2.4 1 .2-.5.5-1.2.8-2.3.2-.6.4-1 .8-1.1.5-.1 1 .1 1.3.3.2.2.3.5.2.8 0 .3-.1.9-.7 1.3z"})}),$=function({search:e}){const{dispatch:t,select:r}=(0,i.useRegistry)(),{features:n,isLoading:o}=(0,i.useSelect)((e=>({features:e(j).getRegisteredFeatures()||[],isLoading:!e(j).hasFinishedResolution("getRegisteredFeatures",[])})),[]),s=(0,i.useDispatch)(j).setFeatureInputInProgress;return{commands:(0,L.useMemo)((()=>{let o=n.filter((e=>"function"==typeof e.callback)).map((e=>({name:`feature/${e.id}`,label:e.name||e.id,icon:e.icon||G,callback:({close:n})=>{e.input_schema?s(e.id):(e.callback?.({},{data:{dispatch:t,select:r}}),n())}})));return e&&(o=o.filter((t=>t.label.toLowerCase().includes(e.toLowerCase())))),o}),[n,e,t,r,s]),isLoading:o}},D=window.wp.components,N=window.wp.blockEditor;function W({featureId:e}){const t=(0,i.useRegistry)(),[r,n]=(0,L.useState)({}),o=(0,i.useDispatch)(j).setFeatureInputInProgress,s=(0,L.useRef)(null),a=(0,i.useSelect)((t=>t(j).getRegisteredFeature(e)),[e]),c=a?.input_schema;(0,L.useEffect)((()=>{if(c?.properties){const e=Object.keys(c.properties).reduce(((e,t)=>(e[t]="",e)),{});n(e)}else n({})}),[c]),(0,L.useEffect)((()=>{if(c&&s.current){const e=s.current.querySelector("input");e&&e.focus()}}),[c]);const l=(e,t)=>{n((r=>({...r,[e]:t})))},u=()=>{a?.callback?.(r,{data:{dispatch:t.dispatch,select:t.select}}),o(null)},p=e=>{"Enter"===e.key&&(e.preventDefault(),u())};return(0,B.jsx)(D.Modal,{title:a?.name,onRequestClose:()=>o(null),children:(0,B.jsxs)(D.__experimentalVStack,{ref:s,spacing:4,children:[c?.properties?Object.entries(c.properties).map((([e,t])=>((e,t)=>{var n;const{type:o,description:i}=t,s=t.ui_hint,c=(null!==(n=a?.input_schema?.required)&&void 0!==n?n:[]).includes(e);switch(s||o){case"integer":return(0,B.jsx)(D.TextControl,{label:e,type:"number",value:r[e]||"",onChange:t=>l(e,parseInt(t,10)||0),onKeyDown:p,help:i,required:c,style:{fontFamily:"monospace"}},e);case"url":return(0,B.jsx)("div",{children:(0,B.jsx)(N.URLInput,{label:e,value:r[e]||"",onChange:t=>l(e,t),placeholder:i,onKeyDown:p})});default:return(0,B.jsx)(D.TextControl,{label:e,value:r[e]||"",onChange:t=>l(e,t),onKeyDown:p,help:i,required:c,style:{fontFamily:"monospace"}},e)}})(e,t))):(0,B.jsx)("p",{children:(0,P.__)("No properties defined for this feature.")}),(0,B.jsx)(D.Button,{variant:"primary",onClick:u,children:(0,P.__)("Run")})]})})}(0,q.registerPlugin)("feature-api-integration",{render:()=>{(0,x.useCommandLoader)({name:"wp-feature-api/feature-command-loader",hook:$});const e=(0,i.useSelect)((e=>e(j).getFeatureInputInProgress()),[]);return e&&(0,B.jsx)(W,{featureId:e})}});const M={store:j,registerFeature:function(e){(0,i.dispatch)(j).registerFeature(e)},unregisterFeature:function(e){(0,i.dispatch)(j).unregisterFeature(e)},executeFeature:async function(e,t){const r=(0,i.select)(j).getRegisteredFeature(e);if(!r)throw new Error(`Feature not found: ${e}`);try{if("client"===r.location){const r=(0,i.select)(j).getRegisteredFeatureCallback(e);if("function"!=typeof r)throw new Error(`No callback registered for client feature: ${e}`);return await r(t)}const n="tool"===r.type?"POST":"GET";let o=`/wp/v2/features/${e}/run`;const s={method:n},a=C(t);return"GET"===n&&a&&Object.keys(a).length?o=`${o}?${new URLSearchParams(Object.entries(a).map((([e,t])=>[e,"object"==typeof t?JSON.stringify(t):String(t)])))}`:"POST"===n&&a&&(s.data=a),await U()({path:o,...s})}catch(t){throw console.error(`Error executing feature ${e}:`,t),t}},getRegisteredFeature:function(e){const t=(0,i.select)(j)?.getRegisteredFeature(e);return t||null},getRegisteredFeatures:async function(){return await((0,i.resolveSelect)(j)?.getRegisteredFeatures())||null}};(window.wp=window.wp||{}).features=t.default})()}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};r.r(e),r.d(e,{receiveFeature:()=>G,receiveFeatures:()=>D,registerFeature:()=>B,registerFeatureCallback:()=>N,setFeatureInputInProgress:()=>W,unregisterFeature:()=>$});var t={};r.r(t),r.d(t,{getFeatureInputInProgress:()=>K,getRegisteredFeature:()=>V,getRegisteredFeatureCallback:()=>z,getRegisteredFeatures:()=>M});var n={};r.r(n),r.d(n,{getRegisteredFeature:()=>Q,getRegisteredFeatures:()=>J});const o=window.wp.i18n,i={id:"tool-navigate",name:(0,o.__)("Navigate Browser"),description:(0,o.__)("Navigates the browser to a specified URL in WordPress."),type:"tool",location:"client",categories:["core","navigation"],input_schema:{type:"object",properties:{url:{type:"string",description:(0,o.__)("The relative URL to navigate to (must start with / for frontend URLs, and /wp-admin/ for admin URLs)."),ui_hint:"url",pattern:"^/"}},required:["url"]},callback:e=>{if("string"!=typeof e?.url||""===e.url.trim())throw new Error("A valid URL string is required for navigation.");if(!e.url.startsWith("/"))throw new Error('URL must be relative and start with "/"');if(e.url.startsWith("http://")||e.url.startsWith("https://"))throw new Error('Absolute URLs are not allowed. URL must be relative and start with "/"');let t=e.url;try{if("string"!=typeof ajaxurl)throw new Error("Cannot determine WordPress admin URL (ajaxurl not found).");const e="/wp-admin/",r=location.pathname,n=r.indexOf(e);let o=location.origin;return n>0?o+=r.substring(0,n):-1===n&&console.warn("Could not determine WP admin path from location.pathname. Assuming root installation.",r),t=o+t,setTimeout((()=>{document.location.href=t}),1e3),{success:!0,url:t}}catch(r){throw console.error(`Navigation failed for URL: ${t} (original: ${e.url})`,r),new Error(`Navigation failed: ${r instanceof Error?r.message:String(r)}`)}}},s={id:"resource-current-url",name:(0,o.__)("Current URL"),description:(0,o.__)("Returns the current URL."),type:"resource",location:"client",categories:["core","navigation"],callback:()=>({url:location.href})},a=window.wp.blocks,c=window.wp.blockEditor,l=window.wp.data,u=()=>{try{const e=(0,l.select)("core/editor")?.getCurrentPostType();return!!e&&!p()}catch(e){return!1}},p=()=>{try{return!!(0,l.select)("core/edit-site")}catch(e){return!1}},d=()=>u()||p(),g={id:"blocks/insert-paragraph-block",name:(0,o.__)("Insert Paragraph Block"),description:(0,o.__)("Inserts a new paragraph block after the current selection or at the end of the content."),type:"tool",location:"client",categories:["core","editor","blocks"],is_eligible:d,input_schema:{type:"object",properties:{content:{type:"string",description:(0,o.__)("Text content for the paragraph.")}}},output_schema:{type:"object",properties:{success:{type:"boolean"},blockType:{type:"string"}},required:["success","blockType"]},callback:e=>{if("string"!=typeof e?.content)throw new Error("Content argument is missing or invalid for paragraph block.");try{const t=e.content.replace(/\\n/g,"\n").replace(/\n/g,"<br>"),r=(0,a.createBlock)("core/paragraph",{content:t});if(!r)throw new Error("Failed to create paragraph block.");return(0,l.dispatch)(c.store).insertBlocks(r),{success:!0,blockType:"core/paragraph"}}catch(e){throw new Error(`Failed to insert paragraph block: ${e instanceof Error?e.message:String(e)}`)}}},y={id:"blocks/insert-heading-block",name:(0,o.__)("Insert Heading Block"),description:(0,o.__)("Inserts a new heading block after the current selection or at the end of the content."),type:"tool",location:"client",categories:["core","editor","blocks"],is_eligible:d,input_schema:{type:"object",properties:{content:{type:"string",description:(0,o.__)("The text content for the heading.")},level:{type:"integer",description:(0,o.__)("Heading level (intended range 1â€“6).")}},required:["content"]},output_schema:{type:"object",properties:{success:{type:"boolean"},blockType:{type:"string"},level:{type:"integer"}},required:["success","blockType","level"]},callback:e=>{if(!e?.content)throw new Error("Content is required for heading block.");try{const t=e.level&&e.level>=1&&e.level<=6?e.level:2,r=(0,a.createBlock)("core/heading",{content:e.content,level:t});if(!r)throw new Error("Failed to create heading block.");return(0,l.dispatch)(c.store).insertBlocks(r),{success:!0,blockType:"core/heading",level:t}}catch(e){throw new Error(`Failed to insert heading block: ${e instanceof Error?e.message:String(e)}`)}}},f={id:"blocks/insert-quote-block",name:(0,o.__)("Insert Quote Block"),description:(0,o.__)("Inserts a new quote block."),type:"tool",location:"client",categories:["core","editor","blocks"],is_eligible:d,input_schema:{type:"object",properties:{value:{type:"string",description:(0,o.__)("The main quote text (will be placed in an inner paragraph block).")},citation:{type:"string",description:(0,o.__)("Optional citation for the quote.")}},required:["value"]},output_schema:{type:"object",properties:{success:{type:"boolean"},clientId:{type:"string"}},required:["success","clientId"]},callback:e=>{if("string"!=typeof e?.value)throw new Error("Value argument is missing or invalid for quote block.");try{const t=e.value.replace(/\n/g,"<br>"),r=(0,a.createBlock)("core/paragraph",{content:t}),n=(0,a.createBlock)("core/quote",{citation:e.citation||""},[r]);if(!n)throw new Error("Failed to create quote block.");return(0,l.dispatch)(c.store).insertBlocks(n),{success:!0,clientId:n.clientId}}catch(e){throw new Error(`Failed to insert quote block: ${e instanceof Error?e.message:String(e)}`)}}},h={id:"blocks/insert-list-block",name:(0,o.__)("Insert List Block"),description:(0,o.__)("Inserts a new list block (ordered or unordered)."),type:"tool",location:"client",categories:["core","editor","blocks"],is_eligible:d,input_schema:{type:"object",properties:{values:{type:"array",items:{type:"string"},description:(0,o.__)("An array of strings for the list items (each will become an inner list-item block).")},ordered:{type:"boolean",description:(0,o.__)("Whether the list should be ordered (numbered).")}},required:["values"]},output_schema:{type:"object",properties:{success:{type:"boolean"},clientId:{type:"string"}},required:["success","clientId"]},callback:e=>{if(!Array.isArray(e?.values)||0===e.values.length)throw new Error("Values argument must be a non-empty array for list block.");try{const t=e.values.map((e=>(0,a.createBlock)("core/list-item",{content:e}))),r=(0,a.createBlock)("core/list",{ordered:!!e.ordered},t);if(!r)throw new Error("Failed to create list block.");return(0,l.dispatch)(c.store).insertBlocks(r),{success:!0,clientId:r.clientId}}catch(e){throw new Error(`Failed to insert list block: ${e instanceof Error?e.message:String(e)}`)}}},w=window.wp.editor,_={id:"editor/set-title",name:(0,o.__)("Set Post Title"),description:(0,o.__)("Updates the title of the current post in the editor."),type:"tool",location:"client",categories:["client","editor"],is_eligible:u,input_schema:{type:"object",properties:{title:{type:"string",description:(0,o.__)("The new title for the post.")}},required:["title"]},output_schema:{type:"object",properties:{success:{type:"boolean"}},required:["success"]},callback:e=>{if("string"!=typeof e?.title)throw new Error("Title argument is missing or invalid.");try{return(0,l.dispatch)(w.store).editPost({title:e.title}),{success:!0}}catch(e){throw new Error(`Failed to set post title: ${e instanceof Error?e.message:String(e)}`)}}},b={id:"editor/save",name:(0,o.__)("Save Editor"),description:(0,o.__)("Triggers the save action for the current editor."),type:"tool",location:"client",categories:["client","editor"],is_eligible:d,output_schema:{type:"object",properties:{success:{type:"boolean"}},required:["success"]},callback:()=>{try{return(0,l.dispatch)(w.store).savePost(),{success:!0}}catch(e){throw new Error(`Failed to save post: ${e instanceof Error?e.message:String(e)}`)}}},m={id:"resource-editor/get-content",name:(0,o.__)("Get Editor Content"),description:(0,o.__)("Retrieves the content of the current post in the editor."),type:"resource",location:"client",categories:["core","editor"],is_eligible:d,output_schema:{type:"object",properties:{content:{type:"string"}},required:["content"]},callback:()=>({content:(0,l.select)(w.store).getCurrentPost().content})};async function E(){const e=await fetch("/wp-json/wp/v2/block-patterns/patterns");if(!e.ok)throw new Error("Failed to fetch patterns");return await e.json()}async function R(e){if(!e)throw new Error("Pattern name is required");try{const t=(await E()).find((t=>t.name===e));if(!t)throw new Error(`Pattern with name "${e}" not found. Make sure to use the pattern's "name" field as the ID.`);return t}catch(e){throw new Error(`Failed to fetch pattern: ${e instanceof Error?e.message:String(e)}`)}}const k={id:"patterns/search",name:(0,o.__)("Search Patterns"),description:(0,o.__)("Search for block patterns in the pattern directory. Block patterns are predefined collections of blocks that create layouts and page sections. They help you quickly build sophisticated designs without starting from scratch, and can include anything from simple buttons to complete layouts that can be customized."),type:"resource",location:"client",categories:["client","patterns","layout"],input_schema:{type:"object",properties:{search:{type:"string",description:(0,o.__)("Search term for patterns.")},category:{type:"string",description:(0,o.__)("Category ID to filter patterns by.")},include_content:{type:"boolean",description:(0,o.__)("If true, includes the pattern content in results. Default is false to reduce payload size. Pattern content can be fetched separately using the patterns/get-content feature."),default:!1}}},output_schema:{type:"object",properties:{patterns:{type:"array",items:{type:"object",properties:{name:{type:"string"},title:{type:"string"},description:{type:"string"},categories:{type:"array",items:{type:"string"}},keywords:{type:"array",items:{type:"string"}},content:{type:"string"}}}}},required:["patterns"]},callback:async e=>{let t=await E();return e.category&&(t=t.filter((t=>t.categories&&t.categories.includes(e.category)))),e.search&&(t=function(e,t){if(!t)return e;const r=t.toLowerCase().trim();return e.filter((e=>[e.title,e.description,...e.keywords||[],...e.categories||[]].filter(Boolean).some((e=>e.toLowerCase().includes(r)))))}(t,e.search)),e.include_content||(t=t.map((e=>{const{content:t,...r}=e;return r}))),{patterns:t}}},v={id:"patterns/get-content",name:(0,o.__)("Get Pattern Content"),description:(0,o.__)("Retrieves the content of a specific pattern by name."),type:"resource",location:"client",categories:["client","patterns","layout"],input_schema:{type:"object",properties:{pattern:{type:"string",description:(0,o.__)("The name of the pattern to retrieve.")}},required:["pattern"]},output_schema:{type:"object",properties:{pattern:{type:"object",properties:{id:{type:"number"},name:{type:"string"},title:{type:"string"},content:{type:"string"},categories:{type:"array",items:{type:"string"}},description:{type:"string"}}}},required:["pattern"]},callback:async e=>({pattern:await R(e.pattern)})},F={id:"patterns/get-categories",name:(0,o.__)("Get Pattern Categories"),description:(0,o.__)("Retrieve all available block pattern categories. Categories help organize patterns by their purpose or design style (such as buttons, columns, headers, footers, content types, etc.), making it easier to find the right pattern for your specific needs. Use categories to filter patterns when searching for the layout components."),type:"resource",location:"client",categories:["client","patterns","layout"],output_schema:{type:"object",properties:{categories:{type:"array",items:{type:"object",properties:{name:{type:"string"},label:{type:"string"},description:{type:"string"}}}}},required:["categories"]},callback:async()=>{const e=await fetch("/wp-json/wp/v2/block-patterns/categories");if(!e.ok)throw new Error("Failed to fetch pattern categories");return{categories:await e.json()}}},I={id:"patterns/insert",name:(0,o.__)("Insert Pattern"),description:(0,o.__)("Insert a block pattern into the editor. After selecting a pattern from the available options, this feature allows you to place it directly into your content where you can then customize it to match your needs."),type:"tool",location:"client",categories:["client","patterns","layout","editor"],is_eligible:d,input_schema:{type:"object",properties:{pattern:{type:"string",description:(0,o.__)("The name of the pattern to insert.")}},required:["pattern"]},output_schema:{type:"object",properties:{success:{type:"boolean"}},required:["success"]},callback:async e=>{try{const t=await R(e.pattern);if(!t.content)throw new Error(`Pattern with name "${e.pattern}" has no content.`);const r=(0,a.parse)(t.content);return(0,l.dispatch)(c.store).insertBlocks(r),{success:!0}}catch(e){throw new Error(`Failed to insert pattern: ${e instanceof Error?e.message:String(e)}`)}}};r(168);const S=[i,s,g,y,f,h,_,b,m,k,v,F,I];window.wp.apiFetch;const T="REGISTER_FEATURE",P="RECEIVE_FEATURE",j="UNREGISTER_FEATURE",A="RECEIVE_FEATURES",U="REGISTER_FEATURE_CALLBACK",C="SET_FEATURE_INPUT_IN_PROGRESS",q="root",x="features",L={},O=(0,l.combineReducers)({featuresById:function(e=L,t){switch(t.type){case T:case P:return{...e,[t.feature.id]:t.feature};case j:{const r={...e};return delete r[t.feature.id],r}case A:{const r={...e};return Array.isArray(t.features)&&t.features.forEach((e=>{r[e.id]=e})),r}case U:{const r=e[t.id];return r?{...e,[t.id]:{...r,callback:t.callback}}:e}default:return e}},featureInputInProgressId:function(e=null,t){return t.type===C?t.id:e}});function B(e){return{type:T,feature:e}}function G(e){return{type:P,feature:e}}function $(e){return{type:j,feature:{id:e}}}function D(e){return{type:A,features:e}}function N(e,t){return async({registry:r,dispatch:n})=>{await r.resolveSelect(X).getRegisteredFeature(e)&&n({type:U,id:e,callback:t})}}function W(e){return{type:C,id:e}}const M=(0,l.createSelector)((e=>Object.values(e.featuresById).filter((e=>"function"!=typeof e.is_eligible||e.is_eligible()))),(e=>[e.featuresById])),V=(e,t)=>{const r=e.featuresById[t]||null;return r&&"function"==typeof r.is_eligible?r.is_eligible()?r:null:r},z=(0,l.createRegistrySelector)((e=>(t,r)=>{const n=e(X).getRegisteredFeature(r);return n?.callback})),K=e=>e.featureInputInProgressId,H=window.wp.coreData;function J(){return async({dispatch:e,registry:t})=>{let r=1,n=[],o=!0;for(;o;){const e=await t.resolveSelect(H.store).getEntityRecords(q,x,{page:r,per_page:100});e&&0!==e.length?(n=[...n,...e],r++):o=!1}e(D(n))}}function Q(e){return async({dispatch:t,registry:r})=>{r.select(X).getRegisteredFeature(e)||t(G(await r.resolveSelect(H.store).getEntityRecord(q,x,e)))}}const X=(0,l.createReduxStore)("feature-api",{reducer:O,actions:e,selectors:t,resolvers:n});if(!0!==window.__WP_FEATURE_API_STORE_REGISTERED)try{(0,l.register)(X),window.__WP_FEATURE_API_STORE_REGISTERED=!0,(0,l.dispatch)(H.store)?.addEntities([{name:x,kind:q,baseURL:"/wp/v2/features",baseURLParams:{context:"edit"},plural:"features",label:(0,o.__)("Features"),transientEdits:{callback:!0}}])}catch(e){window.__WP_FEATURE_API_STORE_REGISTERED=!0,console.warn("Feature API store registration was attempted but failed. This is likely because the store is already registered.")}S.filter((e=>!!e)).forEach((function(e){(0,l.dispatch)(X).registerFeature(e)}))})()})();